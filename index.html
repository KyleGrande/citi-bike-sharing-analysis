<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <title>Citibike Analysis</title>
</head>
<body>
    <div class="Header">
        <h1>Exploring Trends in the Growing NYC Citi-Bike Sharing Program</h1>
        <h1>~ Kyle Grande</h1>
    </div>
    <div class="Overview">
        <div class="Card">
            <h2>Introduction</h2>
            <p>The rapid growth of urban populations and increased awareness about environmental sustainability have contributed to the popularity of bike sharing programs. These programs have become a common mode of transport in many cities, providing an eco-friendly, healthy, and convenient way to travel. Analyzing bike sharing data can provide insights into usage patterns, user behavior, and the overall performance of the program. In this study, we analyze bike sharing data from 2022 to explore trip durations, user types, daily trips over time, and the most popular routes. We also train a time series forecasting model to predict the number of bike rides on a given day.</p>
        </div>
        <div class="Card">
            <h2>Data</h2>
            <p><a href="https://citibikenyc.com/system-data">Citibike Data</a>The data used in this study was collected from 12 CSV files, each corresponding to a month in 2022. The data includes information on bike trip start and end times, start and end station IDs, user types (member or casual), and latitude and longitude coordinates of the start and end stations. We preprocess the data by combining the CSV files into a single DataFrame, parsing the date and time columns, and calculating additional features such as trip duration, day of the week, hour of the day, and whether the trip occurred on a weekend.</p>
        </div>
        <div class="Card">
            <h2>Methodology</h2>
            <p>We utilize several data visualization techniques, such as histograms, bar plots, and line plots, to explore the bike sharing. Additionally, we plot the daily number of trips over time and generate maps of the most popular routes using the Folium library. To predict the number of rides on a given day, we employ the Prophet forecasting model from Facebook. This model is designed for time series forecasting with multiple seasonalities and can account for holidays and special events. We preprocess the data for prediction by aggregating the number of rides per day, and then we train the Prophet model with daily, weekly, and yearly seasonality components. We also perform cross-validation and calculate performance metrics to evaluate the model. Finally, we generate a forecast for the next 30 days and visualize the results.</p>
        </div>
    </div>
    <div class="Analysis">
        <div class="Graphs">
            <h2>Summary Statistics Plots</h2>
            <div class="Graph-Card">
                <div class="Graph-Card-Item">
                    <img src="assets/daily_trips_over_time.png" alt="Daily Trips Over Time">
                </div>
                <div class="Graph-Card-Text"><h3>Daily Trips Over Year</h3> 
                    <p>The Bike Trips Over Time chart also highlights the increased popularity of bike usage during warmer months. We can also see sharp declines when the weather gets colder.
                        Some notable drops on holidays include: 
                        <br>
                        <b>Valentines Day:</b> Can't be sweaty before your date.
                        <br>
                        <b>Mother's Day:</b> Can't be sweaty before seeing your mom.
                        <br>
                        <b>Labor Day:</b> Can't be sweaty before your BBQ.
                        <br>
                        <b>Christmas:</b> Can't be sweaty before opening presents.
                    </p>

                </div>
            </div>
            <div class="Graph-Card">
                <div class="Graph-Card-Text">
                    <h3>Trips by Day of the Week</h3>
                    <p>People prefer to ride during the week, unless it's a Monday. The  most popular day being Wednesday and the least popular being Sunday. Riders see Sunday as a day of rest and also hate Mondays.</p>
                </div>
                <div class="Graph-Card-Item">
                    <img src="assets/trips_by_day_of_week.png" alt="Trips by day of week">
                </div>

            </div>
            <div class="Graph-Card">
                <div class="Graph-Card-Item">
                    <img src="assets/trips_by_hour_of_day.png" alt="Trips by day of week">
                </div>
                <div class="Graph-Card-Text">
                    <h3>Trips by Hour of the Day</h3> 
                    <p>After 10 A.M. there is a steady increase until 5 P.M. which is the most popular time to ride followed by 6 P.M. Interestly, 8 A.M is a standout time and among one of the most popular times, this is like due to people who enjoy riding to work or exercising in the morning. Very few people 12 A.M. and however is riding must've had quite the night. </p>
                </div>

            </div>
            <div class="Graph-Card">
                <div class="Graph-Card-Text">
                    <h3>Trip Duration Histogram</h3> 
                    <p>The majority of bicycle journeys are relatively brief, as shown in the bike trip duration histogram, with most trips lasting between 1 and 15 minutes. Seldmon do people ride longer, let alone an hour.
                        <br>
                        Citibike charges $4.49 for a single ride unlock with 30 minutes, however, most riders aren't even close to that. The membership plan is the $205/year or $17.08/month which allows for unlimited 45 minute rides. If you plam on riding for more than 90 minutes a month, you're better off getting a membership.
                    </p>
                </div>
                <div class="Graph-Card-Item">
                    <img src="assets/duration_histogram.png" alt="Duration Histogram">
                </div>
            </div>
            <div class="Graph-Card">
                <div class="Graph-Card-Item">
                    <img src="assets/median_ride_duration_by_user_type.png" alt="Median Ride Duration by User Type">
                </div>
                <div class="Graph-Card-Text">
                    <h3>Medium Ride Duration by Membership Status</h3> 
                    <p>Casual rides try to get the most of their $4.49 by riding almost twice as long as those with memberships, or Member's take advantage of their unlimited 45 minute rides.

                    </p>
                </div>
            </div>
            <div class="Graph-Card">      
                <div class="Graph-Card-Text">
                    <h3>Trips by Membership Status</h3> 
                    <p>Memebers rode over a whopping 24 million times, with casual rides only riding 6 million times. Member's are clearly taking advantage of their unlimited 45 minute rides. 
                        <br>
                        <b>Fun Fact:</b> The average cost of a single ride is $4.49, so if all 30 million rides were single rides, Citibike would have made $134,700,000 in 2022.
                        <br>
                        With a total of over 30 million rides in 2022, Citibike is clearly a popular mode of transportation in NYC. 
                    </p>

                    </p>
                </div>
                <div class="Graph-Card-Item">
                    <img src="assets/trips_by_user_type.png" alt="Trips by User Type">
                </div>

            </div>
        </div>
        <div class="Graphs">
            <h2>Map Graphs</h2>
            <div class="Graph-Card">
                <div class="Graph-Card-Item">
                    <iframe src="assets/popular_routes_map.html" width="100%" height="400"></iframe>
                </div>
                <div>
                    <h3>10 Most Popular Routes</h3> 
                    <p>
                        Where you start is where you end.
                        <br>
                        Despite the data accounting for non-rides and reracks, the most popular routes are from the same start and end location. This is likely due to people who rent a bike, ride it, and then return it to the same location.
                        <br>
                        <b>Fun Fact:</b> The most popular route is from 11th Ave & W 41st St to 11th Ave & W 41st St, which is a 0.0 mile ride.
                    </p>
                </div>
            </div>
            <div class="Graph-Card">
            <div class="Graph-Card-Text">
                <h3>10 Most Popular Routes Excluding Same Start-End Location</h3> 
                <p>
                    Where you start is where you end, unless you don't.
                    <br>
                    Riders who dont end up at the same location tend to ride for 3 aventues or 9 city blocks.
                    <b>Fun Fact:</b> The longest route excluding same start-end location is from Chambers St & Greenway  to 10th Ave & W 14 St, which is right along the Hudson River!
                </p>
            </div>
            <div class="Graph-Card-Item">
                <iframe src="assets/popular_routes_map_exclude_same_start_end.html" width="100%" height="400"></iframe>

            </div>
            </div> 
            <div class="Graph-Card">
                <div class="Graph-Card-Item">
                    <iframe src="assets/popular_routes_map_all_100.html" width="100%" height="400"></iframe>
                </div>
                <div>
                    <h3>100 Most Popular Routes</h3> 
                    <p>
                        Still a lot of same start-end locations, but we can see more routes that are not the same start-end location.
                    </p>
                </div>
            </div>
            <div class="Graph-Card">
                <div class="Graph-Card-Text">
                    <h3>Popular Routes Excluding Same Start-End Location</h3> 
                    <p>
                        One of the most interesting routes is the one straight through central park. Going all the way from start to end is a 2.5 mile ride, which is a great way to see the park.
                    </p>
                </div>
                <div class="Graph-Card-Item">
                    <iframe src="assets/popular_routes_map_exclude_same_100.html" width="100%" height="400"></iframe>
    
                </div>
                </div> 
            
        </div>
        <div class="Graphs">
            <h2>Model Prediction Plots</h2><br>
            <img class="Plot" src="assets/forecast.png"  alt="Model Prediction Plot">
            <div class="Graph-Card">
                <div class="Graph-Card-Item">
                    <img src="assets/code.png" alt="Model Prediction Plot Code">
                </div>
                <div class="Graph-Card-Text">
                    <h3>Time Series Prediction Plot using Prophet</h3>
                    <p>
                        Using a time series prediction plot is likely 
                    </p>
                </div>
            </div>
            <img class="Plot" src="assets/forecast2.png"  alt="Model Prediction Plot">
        </div>
    </div>
</body>
</html>
